<script type="text/x-handlebars" data-template-name="petsView">
   <div id="citizensManagement" class="gui petsManager">
      <div class="window">
         <div class="title">{{i18n stonehearth_ace:ui.game.pet_manager.title}}<div class="closeButton"></div></div>
   
         <div class="flex-container">

            <div id="petDetails" class="">
               <h2>{{i18n stonehearth_ace:ui.game.pet_manager.details}}</h2>
               <div id="petDetailsInnerPane" class="downSection">
                  <center>
                  <div id="selectedPortrait" class='portrait'/>
                  <div id="selectedName">
                     {{i18n_key view.selected.stonehearth:unit_info.custom_name self=this}}
                  </div>
                  {{#if view.pets_list}}
                  <div id="selectedDescription">
                     {{i18n stonehearth_ace:ui.game.pet_manager.current_owner}}<br> {{i18n_key view.selected.stonehearth:pet.owner_custom_name self=this}} 
                  </div>
                  {{/if}}
                  <div id="traits">
                     {{#each view.selected.buffs itemView="stonehearthTraitItem"}}
                        <div class="item" {{bind-attr uri=this.uri}}>
                           <img {{bind-attr src=this.icon}} />
                        </div>
                     {{/each}}
                  </div>

                  <div class="toolbar">
                     
                     {{#each view.selected.available_commands}}
                     <a {{bind-attr id=command.name}} href="#" {{action "doCommand" this view.selected target="view"}} class='uisounds'>
                           <button class="brown" {{bind-attr class=":commandButton enabled:buttonEnabled:buttonDisabled" }}>
                              {{i18n_key this.display_name self=view.selected}}
                           </button>
                        </a>
                     {{/each}}
                  </div>
                  </center>
               </div>
            </div>
            <div id="tasksPetsList" class="petsList">
               <div id="listTitles" class="flex-container">
                  <button class="brown statButton nameIcon">
                     <div class="petStatImg"></div>
                  </button>
                  <div class="listTitle" id="tasksTitleName" data-sort-key="name">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.name}}</h2>
                  </div>
                  <div class="listTitle" data-sort-key="activity">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.activity}}</h2>
                  </div>
                  <div class="listTitle" data-sort-key="health">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.health}}</h2>
                  </div>
                  <div class="listTitle calories" data-sort-key="hunger">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.hunger}}</h2>
                  </div>
                  <div class="listTitle" data-sort-key="social">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.social}}</h2>
                  </div>
                  <div class="listTitle" data-sort-key="sleepiness">
                     <h2>{{i18n stonehearth_ace:ui.game.pet_manager.sleepiness}}</h2>
                  </div>
               </div>
               <div id="listContent" class="innerBox">
                  <table id="petTable">
                     <tbody>
                        {{#if view.pets_list}}
                           {{#each view.pets_list}}
                              <tr class="petrow uisounds">
                                 <td class="icon">
                                    <img class="hasPetsIcon"/>
                                 </td>
                                 <td class="nameColumn">
                                    {{i18n_key this.stonehearth:unit_info.custom_name self=this}}
                                 </td>
                                 <td class="petActivity centralized">
                                    {{i18n_key this.activity self=this}}
                                 </td>
                                 <td class="petHealth centralized">
                                    {{i18n_key this.health self=this}}%
                                 </td>
                                 <td class="petHunger centralized">
                                    {{i18n_key this.hunger self=this}}%
                                 </td>
                                 <td class="petSocial centralized">
                                    {{i18n_key this.social self=this}}%
                                 </td>
                                 <td class="petSleepiness centralized">
                                    {{i18n_key this.sleepiness self=this}}%
                                 </td>                            
                              </tr>
                           {{/each}}
                        {{else}}
                           <tr class="petrow">
                              <td colspan="8">
                                 <div class="noPets centralized">
                                    {{i18n stonehearth_ace:ui.game.pet_manager.no_pets}}
                                 </div>
                              </td>
                           </tr>
                        {{/if}}
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
   </div>
</script>
   
   
   