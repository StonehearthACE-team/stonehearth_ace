<script type="text/x-handlebars" data-template-name="stonehearthTerrainVision">
   <div id="stonehearthTerrainVision">

      <div id="visionButton" hotkey_action="vision:building:toggle" class="normal terrainButton">
         <label class="buttonLabel">
         </label>
      </div>

      <div id="sliceButton" hotkey_action="vision:slice:toggle" class="normal terrainButton" {{bind-attr class=view.clip_enabled:clip:noclip}}>
         <label class="buttonLabel">
            {{i18n stonehearth:ui.game.visions.terrain_slice_vision_icon_name}}
         </label>
      </div>

      <div id="xrayButton" hotkey_action="vision:xray:toggle" class="normal terrainButton" {{bind-attr class=view.xray_mode}}>
         <label class="buttonLabel">
            {{i18n stonehearth:ui.game.visions.terrain_xray_vision_icon_name}}
         </label>
      </div>

      <div id="heatmapButton" class="normal terrainButton" {{bind-attr class="view.heatmap_active:active:inactive"}}>
         <label class="buttonLabel">
            {{i18n stonehearth_ace:ui.game.visions.heatmap}}
         </label>
         <div id="heatmapList" class="paper">
            {{#each h in view.heatMaps}}
            <div class="heatmap" {{ bind-attr data-key=h.key }}>
               <div class="heatmapRepresentation">
                  <img class="heatmapImage" {{ bind-attr src=h.icon }} />
                  <div class="heatmapName">
                     {{i18nv name}}
                  </div>
               </div>
            </div>
            {{/each}}
         </div>
      </div>

      <div id="slicePalette" class='palette' {{bind-attr class=view.clip_enabled:clip:noclip}}>
         <div id="clipUp" hotkey_action="vision:slice:up" class="button" />
         <div id="clipUpSingle" hotkey_action="vision:slice:up:single" class="button" />
         <div id="depth">{{view.clip_height}}m</div>
         <div id="clipDownSingle" hotkey_action="vision:slice:down:single" class="button" />
         <div id="clipDown" hotkey_action="vision:slice:down" class="button" />
      </div>

      <div id="xrayPalette" class='palette' {{bind-attr class=view.xray_mode}}>
         <div id="xrayFull" hotkey_action="vision:xray:full" class='xrayButton button' mode="full" {{bind-attr class=view.xray_mode}}>{{i18n stonehearth:ui.game.visions.terrain_xray_vision_full}}</div>
         <div id="xrayFlat" hotkey_action="vision:xray:flat" class='xrayButton button' mode="flat" {{bind-attr class=view.xray_mode}}>{{i18n stonehearth:ui.game.visions.terrain_xray_vision_flat}}</div>
      </div>
   
      <div id="heatmapCursorReadout" {{bind-attr class="view.heatmap_active:active:inactive"}}>
         <div class="content">
               <div class="header">
                  <img class="icon" {{bind-attr src=view.currentHeatValueIcon}} />
                  <span class="value">{{view.currentHeatValue}}</span>
               </div>
               <div class="label">{{{view.currentHeatValueLabel}}}</div>
         </div>
         <img class="handle" src="/stonehearth/ui/game/widgets/terrain_vision/images/ear.png" />
      </div>
   </div>
</script>